{"version":3,"file":"static/js/47.2e6e62bc.chunk.js","mappings":"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","sources":["components/pin.tsx","utils/reorder.ts","utils/use-optimistic-options.ts","utils/project.ts","utils/url.ts","screens/project-list/util.ts","screens/project-list/list.tsx","utils/user.ts","components/id-select.tsx","components/user-select.tsx","screens/project-list/search-panel.tsx","screens/project-list/index.tsx","assets/software-logo.svg","utils/kanban.ts","utils/task.ts","screens/kanban/util.ts","assets/task.svg","assets/bug.svg","utils/task-type.ts","screens/kanban/create-task.tsx","components/mark.tsx","components/drag-and-drop.tsx","screens/kanban/kanban-column.tsx","components/task-type-selector.tsx","screens/kanban/search-panel.tsx","screens/kanban/create-kanban.tsx","screens/kanban/task-modal.tsx","screens/kanban/index.tsx","screens/epic/util.ts","screens/epic/create-epic.tsx","utils/epic.ts","screens/epic/index.tsx","screens/project/index.tsx","screens/project-list/project-modal.tsx","components/project-popover.tsx","components/user-popover.tsx","authenticated-app.tsx"],"sourcesContent":["import { Rate } from \"antd\";\r\nimport React from \"react\";\r\n\r\ninterface PinProps extends React.ComponentProps<typeof Rate>{\r\n    checked : boolean,\r\n    onCheckedChange?: (checked:boolean) => void\r\n}\r\n\r\nexport const Pin = ({ checked , onCheckedChange, ...restProps}:PinProps) => {\r\n    return <Rate\r\n        count={1}\r\n        value={checked ? 1:0}\r\n        onChange={num => onCheckedChange?.(!!num)}\r\n        {...restProps}\r\n    />\r\n}","/**\n * 在本地对排序进行乐观更新\n * @param fromId 要排序的项目的id\n * @param type 'before' | 'after'\n * @param referenceId 参照id\n * @param list 要排序的列表, 比如tasks, kanbans\n */\nexport const reorder = ({\n  fromId,\n  type,\n  referenceId,\n  list,\n}: {\n  list: { id: number }[];\n  fromId: number;\n  type: \"after\" | \"before\";\n  referenceId: number;\n}) => {\n  const copiedList = [...list];\n  // 找到fromId对应项目的下标\n  const movingItemIndex = copiedList.findIndex((item) => item.id === fromId);\n  if (!referenceId) {\n    return insertAfter([...copiedList], movingItemIndex, copiedList.length - 1);\n  }\n  const targetIndex = copiedList.findIndex((item) => item.id === referenceId);\n  const insert = type === \"after\" ? insertAfter : insertBefore;\n  return insert([...copiedList], movingItemIndex, targetIndex);\n};\n\n/**\n * 在list中，把from放在to的前边\n * @param list\n * @param from\n * @param to\n */\nconst insertBefore = (list: unknown[], from: number, to: number) => {\n  const toItem = list[to];\n  const removedItem = list.splice(from, 1)[0];\n  const toIndex = list.indexOf(toItem);\n  list.splice(toIndex, 0, removedItem);\n  return list;\n};\n\n/**\n * 在list中，把from放在to的后面\n * @param list\n * @param from\n * @param to\n */\nconst insertAfter = (list: unknown[], from: number, to: number) => {\n  const toItem = list[to];\n  const removedItem = list.splice(from, 1)[0];\n  const toIndex = list.indexOf(toItem);\n  list.splice(toIndex + 1, 0, removedItem);\n  return list;\n};\n","import { tab } from \"@testing-library/user-event/dist/tab\";\nimport { QueryKey, useQueryClient } from \"react-query\";\nimport { reorder } from \"./reorder\";\nimport { Task } from \"types/task\";\n// import { reorder } from \"utils/reorder\";\n// import { Task } from \"types/task\";\n\nexport const useConfig = (\n  queryKey: QueryKey,\n  callback: (target: any, old?: any[]) => any[]\n) => {\n  const queryClient = useQueryClient();\n  return {\n    onSuccess: () => queryClient.invalidateQueries(queryKey),\n    async onMutate(target: any) {\n      const previousItems = queryClient.getQueryData(queryKey);\n      queryClient.setQueryData(queryKey, (old?: any[]) => {\n        return callback(target, old);\n      });\n      return { previousItems };\n    },\n    onError(error: any, newItem: any, context: any) {\n      queryClient.setQueryData(queryKey, context.previousItems);\n    },\n  };\n};\n\nexport const useDeleteConfig = (queryKey: QueryKey) =>\n  useConfig(\n    queryKey,\n    (target, old) => old?.filter((item) => item.id !== target.id) || []\n  );\nexport const useEditConfig = (queryKey: QueryKey) =>\n  useConfig(\n    queryKey,\n    (target, old) =>\n      old?.map((item) =>\n        item.id === target.id ? { ...item, ...target } : item\n      ) || []\n  );\nexport const useAddConfig = (queryKey: QueryKey) =>\n  useConfig(queryKey, (target, old) => (old ? [...old, target] : []));\n\nexport const useReorderKanbanConfig = (queryKey: QueryKey) =>\n  useConfig(queryKey, (target, old) => reorder({ list: old, ...target }));\n\nexport const useReorderTaskConfig = (queryKey: QueryKey) =>\n  useConfig(queryKey, (target, old) => {\n    const orderedList = reorder({ list: old, ...target }) as Task[];\n    return orderedList.map((item) =>\n      item.id === target.fromId\n        ? { ...item, kanbanId: target.toKanbanId }\n        : item\n    );\n  });\n\n","import { useHttp } from \"utils/http\";\r\nimport { QueryKey, useMutation, useQuery } from \"react-query\";\r\nimport {\r\n  useAddConfig,\r\n  useDeleteConfig,\r\n  useEditConfig,\r\n} from \"utils/use-optimistic-options\";\r\nimport { Project } from \"types/project\";\r\nimport { cleanObject } from \"utils/index\";\r\n\r\nexport const useProjects = (param?: Partial<Project>) => {\r\n  const client = useHttp();\r\n\r\n  return useQuery<Project[]>([\"projects\", cleanObject(param)], () =>\r\n    client(\"projects\", { data: param })\r\n  );\r\n};\r\n\r\nexport const useEditProject = (queryKey: QueryKey) => {\r\n  const client = useHttp();\r\n  return useMutation(\r\n    (params: Partial<Project>) =>\r\n      client(`projects/${params.id}`, {\r\n        method: \"PATCH\",\r\n        data: params,\r\n      }),\r\n    useEditConfig(queryKey)\r\n  );\r\n};\r\n\r\nexport const useAddProject = (queryKey: QueryKey) => {\r\n  const client = useHttp();\r\n\r\n  return useMutation(\r\n    (params: Partial<Project>) =>\r\n      client(`projects`, {\r\n        data: params,\r\n        method: \"POST\",\r\n      }),\r\n    useAddConfig(queryKey)\r\n  );\r\n};\r\n\r\nexport const useDeleteProject = (queryKey: QueryKey) => {\r\n  const client = useHttp();\r\n\r\n  return useMutation(\r\n    ({ id }: { id: number }) =>\r\n      client(`projects/${id}`, {\r\n        method: \"DELETE\",\r\n      }),\r\n    useDeleteConfig(queryKey)\r\n  );\r\n};\r\n\r\nexport const useProject = (id?: number) => {\r\n  const client = useHttp();\r\n  return useQuery<Project>(\r\n    [\"project\", { id }],\r\n    () => client(`projects/${id}`),\r\n    {\r\n      enabled: Boolean(id),\r\n    }\r\n  );\r\n};\r\n","import { URLSearchParamsInit, useSearchParams } from \"react-router-dom\";\r\nimport { useMemo, useState } from \"react\";\r\nimport { cleanObject, subset } from \"utils/index\";\r\n\r\n/**\r\n * 返回页面url中，指定键的参数值\r\n */\r\nexport const useUrlQueryParam = <K extends string>(keys: K[]) => {\r\n  const [searchParams] = useSearchParams();\r\n  const setSearchParams = useSetUrlSearchParam();\r\n  const [stateKeys] = useState(keys);\r\n  return [\r\n    useMemo(\r\n      () =>\r\n        subset(Object.fromEntries(searchParams), stateKeys) as {\r\n          [key in K]: string;\r\n        },\r\n      [searchParams, stateKeys]\r\n    ),\r\n    (params: Partial<{ [key in K]: unknown }>) => {\r\n      return setSearchParams(params);\r\n      // iterator\r\n      // iterator: https://codesandbox.io/s/upbeat-wood-bum3j?file=/src/index.js\r\n    },\r\n  ] as const;\r\n};\r\n\r\nexport const useSetUrlSearchParam = () => {\r\n  const [searchParams, setSearchParam] = useSearchParams();\r\n  return (params: { [key in string]: unknown }) => {\r\n    const o = cleanObject({\r\n      ...Object.fromEntries(searchParams),\r\n      ...params,\r\n    }) as URLSearchParamsInit;\r\n    return setSearchParam(o);\r\n  };\r\n};\r\n","import { useSetUrlSearchParam, useUrlQueryParam } from \"utils/url\";\r\nimport { useMemo } from \"react\";\r\nimport { useProject } from \"utils/project\";\r\n\r\n// 项目列表搜索的参数\r\nexport const useProjectsSearchParams = () => {\r\n  const [param, setParam] = useUrlQueryParam([\"name\", \"personId\"]);\r\n  return [\r\n    useMemo(\r\n      () => ({ ...param, personId: Number(param.personId) || undefined }),\r\n      [param]\r\n    ),\r\n    setParam,\r\n  ] as const;\r\n};\r\n\r\nexport const useProjectsQueryKey = () => {\r\n  const [params] = useProjectsSearchParams();\r\n  return [\"projects\", params];\r\n};\r\n\r\nexport const useProjectModal = () => {\r\n  const [{ projectCreate }, setProjectCreate] = useUrlQueryParam([\r\n    \"projectCreate\",\r\n  ]);\r\n  const [{ editingProjectId }, setEditingProjectId] = useUrlQueryParam([\r\n    \"editingProjectId\",\r\n  ]);\r\n  const setUrlParams = useSetUrlSearchParam();\r\n  const { data: editingProject, isLoading } = useProject(\r\n    Number(editingProjectId)\r\n  );\r\n\r\n  const open = () => setProjectCreate({ projectCreate: true });\r\n  const close = () => setUrlParams({ projectCreate: \"\", editingProjectId: \"\" });\r\n  const startEdit = (id: number) =>\r\n    setEditingProjectId({ editingProjectId: id });\r\n\r\n  return {\r\n    projectModalOpen: projectCreate === \"true\" || Boolean(editingProjectId),\r\n    open,\r\n    close,\r\n    startEdit,\r\n    editingProject,\r\n    isLoading,\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { Dropdown, Menu, Modal, Table } from \"antd\";\r\nimport dayjs from \"dayjs\";\r\nimport { TableProps } from \"antd/es/table\";\r\n// react-router 和 react-router-dom的关系，类似于 react 和 react-dom/react-native/react-vr...\r\nimport { Link } from \"react-router-dom\";\r\nimport { Pin } from \"components/pin\";\r\nimport { useDeleteProject, useEditProject } from \"utils/project\";\r\nimport { ButtonNoPadding } from \"components/lib\";\r\nimport {\r\n  useProjectModal,\r\n  useProjectsQueryKey,\r\n} from \"screens/project-list/util\";\r\nimport { Project } from \"types/project\";\r\nimport { User } from \"types/user\";\r\n\r\ninterface ListProps extends TableProps<Project> {\r\n  users: User[];\r\n}\r\n\r\n// React.memo通过对子组件的传参浅对比，防止父组件状态更新时子组件会默认出现不必要的更新\r\nexport const List =  React.memo(({ users, ...props }: ListProps) => {\r\n  const { mutate } = useEditProject(useProjectsQueryKey());\r\n  const pinProject = (id: number) => (pin: boolean) => mutate({ id, pin });\r\n  return (\r\n    <Table\r\n      rowKey={\"id\"}\r\n      pagination={false}\r\n      columns={[\r\n        {\r\n          title: <Pin checked={true} disabled={true} />,\r\n          render(value, project) {\r\n            return (\r\n              <Pin\r\n                checked={project.pin}\r\n                onCheckedChange={pinProject(project.id)}\r\n              />\r\n            );\r\n          },\r\n        },\r\n        {\r\n          title: \"名称\",\r\n          sorter: (a, b) => a.name.localeCompare(b.name),\r\n          render(value, project) {\r\n            return (\r\n              <Link to={`projects/${String(project.id)}`}>{project.name}</Link>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          title: \"部门\",\r\n          dataIndex: \"organization\",\r\n        },\r\n        {\r\n          title: \"负责人\",\r\n          render(value, project) {\r\n            return (\r\n              <span>\r\n                {users.find((user) => user.id === project.personId)?.name ||\r\n                  \"未知\"}\r\n              </span>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          title: \"创建时间\",\r\n          render(value, project) {\r\n            return (\r\n              <span>\r\n                {project.created\r\n                  ? dayjs(project.created).format(\"YYYY-MM-DD\")\r\n                  : \"无\"}\r\n              </span>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          render(value, project) {\r\n            return <More project={project} />;\r\n          },\r\n        },\r\n      ]}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\nconst More = ({ project }: { project: Project }) => {\r\n  const { startEdit } = useProjectModal();\r\n  const editProject = (id: number) => () => startEdit(id);\r\n  const { mutate: deleteProject } = useDeleteProject(useProjectsQueryKey());\r\n  const confirmDeleteProject = (id: number) => {\r\n    Modal.confirm({\r\n      title: \"确定删除这个项目吗?\",\r\n      content: \"点击确定删除\",\r\n      okText: \"确定\",\r\n      onOk() {\r\n        deleteProject({ id });\r\n      },\r\n    });\r\n  };\r\n  return (\r\n    <Dropdown\r\n      overlay={\r\n        <Menu>\r\n          <Menu.Item onClick={editProject(project.id)} key={\"edit\"}>\r\n            编辑\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            onClick={() => confirmDeleteProject(project.id)}\r\n            key={\"delete\"}\r\n          >\r\n            删除\r\n          </Menu.Item>\r\n        </Menu>\r\n      }\r\n    >\r\n      <ButtonNoPadding type={\"link\"}>...</ButtonNoPadding>\r\n    </Dropdown>\r\n  );\r\n};\r\n","import { useHttp } from \"utils/http\";\r\nimport { User } from \"types/user\";\r\nimport { useQuery } from \"react-query\";\r\n\r\nexport const useUsers = (param?: Partial<User>) => {\r\n  const client = useHttp();\r\n\r\n  return useQuery<User[]>([\"users\", param], () =>\r\n    client(\"users\", { data: param })\r\n  );\r\n};\r\n\r\n// 组员列表\r\n","import React from \"react\";\r\nimport { Raw } from \"types\";\r\nimport { Select } from \"antd\";\r\n\r\ntype SelectProps = React.ComponentProps<typeof Select>;\r\n\r\ninterface IdSelectProps\r\n  extends Omit<SelectProps, \"value\" | \"onChange\" | \"options\"> {\r\n  value?: Raw | null | undefined;\r\n  onChange?: (value?: number) => void;\r\n  defaultOptionName?: string;\r\n  options?: { name: string; id: number }[];\r\n}\r\n\r\n/**\r\n * value 可以传入多种类型的值\r\n * onChange只会回调 number|undefined 类型\r\n * 当 isNaN(Number(value)) 为true的时候，代表选择默认类型\r\n * 当选择默认类型的时候，onChange会回调undefined\r\n * @param props\r\n * @constructor\r\n */\r\nexport const IdSelect = (props: IdSelectProps) => {\r\n  const { value, onChange, defaultOptionName, options, ...restProps } = props;\r\n  return (\r\n    <Select\r\n      value={options?.length ? toNumber(value) : 0}\r\n      onChange={(value) => onChange?.(toNumber(value) || undefined)}\r\n      {...restProps}\r\n    >\r\n      {defaultOptionName ? (\r\n        <Select.Option value={0}>{defaultOptionName}</Select.Option>\r\n      ) : null}\r\n      {options?.map((option) => (\r\n        <Select.Option key={option.id} value={option.id}>\r\n          {option.name}\r\n        </Select.Option>\r\n      ))}\r\n    </Select>\r\n  );\r\n};\r\n\r\nconst toNumber = (value: unknown) => (isNaN(Number(value)) ? 0 : Number(value));\r\n","import React from \"react\";\r\nimport { useUsers } from \"utils/user\";\r\nimport { IdSelect } from \"components/id-select\";\r\n\r\nexport const UserSelect = (props: React.ComponentProps<typeof IdSelect>) => {\r\n  const { data: users } = useUsers();\r\n  return <IdSelect options={users || []} {...props} />;\r\n};\r\n","import React from \"react\";\r\nimport { Form, Input } from \"antd\";\r\nimport { UserSelect } from \"components/user-select\";\r\nimport { Project } from \"types/project\";\r\nimport { User } from \"types/user\";\r\n\r\ninterface SearchPanelProps {\r\n  users: User[];\r\n  param: Partial<Pick<Project, \"name\" | \"personId\">>;\r\n  setParam: (param: SearchPanelProps[\"param\"]) => void;\r\n}\r\n\r\nexport const SearchPanel = ({ users, param, setParam }: SearchPanelProps) => {\r\n  return (\r\n    <Form style={{ marginBottom: \"2rem\" }} layout={\"inline\"}>\r\n      <Form.Item>\r\n        {/*setParam(Object.assign({}, param, {name:evt.target.value}))*/}\r\n        <Input\r\n          placeholder={\"项目名\"}\r\n          type=\"text\"\r\n          value={param.name}\r\n          onChange={(evt) =>\r\n            setParam({\r\n              ...param,\r\n              name: evt.target.value,\r\n            })\r\n          }\r\n        />\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <UserSelect\r\n          defaultOptionName={\"负责人\"}\r\n          value={param.personId}\r\n          onChange={(value) =>\r\n            setParam({\r\n              ...param,\r\n              personId: value,\r\n            })\r\n          }\r\n        />\r\n      </Form.Item>\r\n    </Form>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { cleanObject, useDebounce, useDocumentTitle, useMount } from \"../../utils\"\r\nimport { List } from \"./list\"\r\nimport { SearchPanel } from \"./search-panel\"\r\nimport { useEffect,useState } from \"react\"\r\nimport styled from '@emotion/styled';\r\nimport { Row } from 'antd';\r\nimport { useProjects } from 'utils/project';\r\nimport { useUsers } from 'utils/user';\r\nimport {useProjectModal, useProjectsSearchParams} from './util'\r\nimport { ButtonNoPadding, ScreenContainer } from 'components/lib';\r\nimport { ErrorBox } from 'components/lib';\r\nimport { Profiler } from 'components/profiler';\r\n\r\nexport const ProjectListScreen = () => {\r\n\r\n    useDocumentTitle('项目列表',false)\r\n    const [param,setParam] = useProjectsSearchParams()\r\n    const {isLoading,error,data:list} = useProjects(useDebounce(param,200))\r\n    const {data:users} = useUsers()\r\n    const {open} = useProjectModal()\r\n    return (\r\n        <Profiler id={'项目列表'}>\r\n            <ScreenContainer> \r\n            <Row style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                <h1>项目列表</h1>\r\n                    <ButtonNoPadding \r\n                        onClick={open}\r\n                        type={'link'}>\r\n                            创建项目\r\n                </ButtonNoPadding>\r\n            </Row>\r\n\r\n            <SearchPanel users={users || []} param={param} setParam={setParam}/>\r\n            <ErrorBox error={error} />\r\n            <List \r\n                loading={isLoading} \r\n                users={users || []} \r\n                dataSource={list || []}\r\n                />\r\n        </ScreenContainer>\r\n        </Profiler>\r\n    ) \r\n        \r\n}\r\n\r\nProjectListScreen.whyDidYouRender = false\r\n\r\n// const Container = styled.div`\r\n//     padding:3.2rem;\r\n//     width: 100vw;\r\n    \r\n//     /* border: 5px solid black; */\r\n// `\r\n\r\n","var _defs, _g;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgSoftwareLogo(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 179 32\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: \"false\",\n    \"aria-hidden\": \"true\",\n    className: \"css-sq9aeg-Logo\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    x1: \"97.6553341%\",\n    y1: \"35.6591143%\",\n    x2: \"37.202032%\",\n    y2: \"75.4891864%\",\n    id: \"uid392-1\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#0052CC\",\n    offset: \"7%\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#2684FF\",\n    offset: \"100%\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    x1: \"8.43371138%\",\n    y1: \"60.1495759%\",\n    x2: \"64.1161517%\",\n    y2: \"23.5790285%\",\n    id: \"uid392-2\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#0052CC\",\n    offset: \"0%\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#2684FF\",\n    offset: \"100%\"\n  })))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: 1,\n    fillRule: \"nonzero\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.3881081,27.9242105 C12.4881804,26.8071817 13.1062496,25.2917664 13.1062496,23.7115789 C13.1062496,22.1313915 12.4881804,20.6159762 11.3881081,19.4989474 L11.3881081,19.4989474 L3.74837838,11.7621053 L0.273513514,15.2926316 C-0.0900771727,15.6625064 -0.0900771727,16.2617042 0.273513514,16.6315789 L11.3881081,27.9242105 L11.3881081,27.9242105 Z\",\n    fill: \"currentColor\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.5027027,15.2926316 L11.3881081,4 L11.3881081,4 L11.3539189,4.03473684 L11.3539189,4.03473684 C9.08852466,6.36456187 9.09963243,10.1156459 11.3787838,12.4315789 L19.0247297,20.1652632 L22.5027027,16.6315789 C22.8662934,16.2617042 22.8662934,15.6625064 22.5027027,15.2926316 Z\",\n    fill: \"currentColor\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.3881081,12.4252632 C9.10895676,10.1093301 9.09784899,6.35824608 11.3632432,4.02842105 L3.43445946,12.0810526 L7.58067568,16.2936842 L11.3881081,12.4252632 Z\",\n    fill: \"url(#uid392-1)\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.1893243,15.6368421 L11.3881081,19.4989474 C12.4881804,20.6159762 13.1062496,22.1313915 13.1062496,23.7115789 C13.1062496,25.2917664 12.4881804,26.8071817 11.3881081,27.9242105 L19.3355405,19.8494737 L15.1893243,15.6368421 Z\",\n    fill: \"url(#uid392-2)\",\n    fillRule: \"nonzero\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M36.07,18.956 C36.07,20.646 35.394,21.842 33.418,21.842 C32.56,21.842 31.702,21.686 31,21.4 L31,23.662 C31.65,23.896 32.586,24.104 33.808,24.104 C37.032,24.104 38.41,21.946 38.41,18.8 L38.41,6.918 L36.07,6.918 L36.07,18.956 Z M41.894,7.568 C41.894,8.556 42.544,9.128 43.454,9.128 C44.364,9.128 45.014,8.556 45.014,7.568 C45.014,6.58 44.364,6.008 43.454,6.008 C42.544,6.008 41.894,6.58 41.894,7.568 Z M42.31,24 L44.546,24 L44.546,11 L42.31,11 L42.31,24 Z M47.926,24 L50.11,24 L50.11,16.33 C50.11,13.574 51.852,12.716 54.712,13.002 L54.712,10.818 C52.164,10.662 50.864,11.754 50.11,13.288 L50.11,11 L47.926,11 L47.926,24 Z M65.45,24 L65.45,21.66 C64.618,23.376 63.058,24.26 61.056,24.26 C57.598,24.26 55.856,21.322 55.856,17.5 C55.856,13.834 57.676,10.74 61.316,10.74 C63.214,10.74 64.67,11.598 65.45,13.288 L65.45,11 L67.686,11 L67.686,24 L65.45,24 Z M58.092,17.5 C58.092,20.62 59.34,22.18 61.654,22.18 C63.656,22.18 65.45,20.906 65.45,18.02 L65.45,16.98 C65.45,14.094 63.812,12.82 61.914,12.82 C59.392,12.82 58.092,14.484 58.092,17.5 Z M86.926,19.294 C86.926,16.226 84.898,15.056 81.284,14.146 C78.268,13.392 77.176,12.69 77.176,11.286 C77.176,9.726 78.502,8.946 80.738,8.946 C82.506,8.946 84.352,9.258 86.068,10.246 L86.068,7.906 C84.898,7.256 83.312,6.658 80.842,6.658 C76.864,6.658 74.836,8.634 74.836,11.286 C74.836,14.094 76.552,15.42 80.4,16.356 C83.65,17.136 84.586,17.942 84.586,19.45 C84.586,20.958 83.624,21.972 81.05,21.972 C78.788,21.972 76.344,21.374 74.758,20.542 L74.758,22.934 C76.084,23.61 77.618,24.26 80.92,24.26 C85.158,24.26 86.926,22.258 86.926,19.294 Z M95.09,24.26 C91.19,24.26 88.902,21.374 88.902,17.474 C88.902,13.574 91.19,10.74 95.09,10.74 C98.964,10.74 101.226,13.574 101.226,17.474 C101.226,21.374 98.964,24.26 95.09,24.26 Z M95.09,12.82 C92.308,12.82 91.086,15.004 91.086,17.474 C91.086,19.944 92.308,22.18 95.09,22.18 C97.846,22.18 99.042,19.944 99.042,17.474 C99.042,15.004 97.846,12.82 95.09,12.82 Z M106.92,9.622 C106.92,8.452 107.596,7.646 108.974,7.646 C109.494,7.646 109.988,7.698 110.378,7.776 L110.378,5.722 C109.988,5.618 109.546,5.514 108.87,5.514 C106.088,5.514 104.736,7.152 104.736,9.57 L104.736,11 L102.63,11 L102.63,13.08 L104.736,13.08 L104.736,24 L106.92,24 L106.92,13.08 L110.274,13.08 L110.274,11 L106.92,11 L106.92,9.622 Z M115.786,19.892 L115.786,13.08 L119.244,13.08 L119.244,11 L115.786,11 L115.786,8.244 L113.602,8.244 L113.602,11 L111.496,11 L111.496,13.08 L113.602,13.08 L113.602,19.944 C113.602,22.362 114.954,24 117.736,24 C118.412,24 118.854,23.896 119.244,23.792 L119.244,21.634 C118.854,21.712 118.36,21.816 117.84,21.816 C116.462,21.816 115.786,21.036 115.786,19.892 Z M125.432,24 L128.292,24 L130.528,17.708 L131.724,13.704 L132.92,17.708 L135.156,24 L138.016,24 L142.8,11 L140.33,11 L136.586,22.024 L132.79,11 L130.658,11 L126.862,22.024 L123.118,11 L120.648,11 L125.432,24 Z M153.538,24 L153.538,21.66 C152.706,23.376 151.146,24.26 149.144,24.26 C145.686,24.26 143.944,21.322 143.944,17.5 C143.944,13.834 145.764,10.74 149.404,10.74 C151.302,10.74 152.758,11.598 153.538,13.288 L153.538,11 L155.774,11 L155.774,24 L153.538,24 Z M146.18,17.5 C146.18,20.62 147.428,22.18 149.742,22.18 C151.744,22.18 153.538,20.906 153.538,18.02 L153.538,16.98 C153.538,14.094 151.9,12.82 150.002,12.82 C147.48,12.82 146.18,14.484 146.18,17.5 Z M159.154,24 L161.338,24 L161.338,16.33 C161.338,13.574 163.08,12.716 165.94,13.002 L165.94,10.818 C163.392,10.662 162.092,11.754 161.338,13.288 L161.338,11 L159.154,11 L159.154,24 Z M178.108,23.48 C177.042,24.052 175.404,24.26 174.078,24.26 C169.216,24.26 167.084,21.452 167.084,17.474 C167.084,13.548 169.268,10.74 173.22,10.74 C177.224,10.74 178.836,13.522 178.836,17.474 L178.836,18.488 L169.346,18.488 C169.658,20.698 171.088,22.128 174.156,22.128 C175.664,22.128 176.938,21.842 178.108,21.426 L178.108,23.48 Z M173.116,12.768 C170.75,12.768 169.554,14.302 169.32,16.564 L176.574,16.564 C176.444,14.146 175.352,12.768 173.116,12.768 Z\",\n    fill: \"inherit\",\n    fillRule: \"evenodd\"\n  }))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSoftwareLogo);\nexport default __webpack_public_path__ + \"static/media/software-logo.ec20429850ea9088299d73d53647f340.svg\";\nexport { ForwardRef as ReactComponent };","import { QueryKey, useMutation, useQuery } from \"react-query\";\r\nimport { cleanObject } from \"utils\";\r\nimport { useHttp } from \"./http\";\r\nimport { Kanban } from \"types/kanban\";\r\nimport { useAddConfig, useDeleteConfig, useReorderKanbanConfig } from \"./use-optimistic-options\";\r\n\r\nexport const useKanbans = (param?: Partial<Kanban>) => {\r\n    const client = useHttp();\r\n  \r\n    return useQuery<Kanban[]>([\"kanbans\", cleanObject(param)], () =>\r\n      client(\"kanbans\", { data: param })\r\n    );\r\n  };\r\n\r\n  export const useAddKanban = (queryKey: QueryKey) => {\r\n    const client = useHttp();\r\n  \r\n    return useMutation(\r\n      (params: Partial<Kanban>) =>\r\n        client(`kanbans`, {\r\n          data: params,\r\n          method: \"POST\",\r\n        }),\r\n      useAddConfig(queryKey)\r\n    );\r\n  };\r\n   \r\n  export const useDeleteKanban = (queryKey: QueryKey) => {\r\n    const client = useHttp();\r\n  \r\n    return useMutation(\r\n      ({ id }: { id: number }) =>\r\n        client(`kanbans/${id}`, {\r\n          method: \"DELETE\",\r\n        }),\r\n      useDeleteConfig(queryKey)\r\n    );\r\n  };\r\n  \r\n  export interface SortProps {\r\n    fromId: number\r\n    referenceId: number;\r\n    type: 'before' | 'after'\r\n\r\n    fromKanbanId ?: number\r\n    toKanbanId?: number\r\n  }\r\n\r\n  export const useReorderKanban = (queryKey:QueryKey) => {\r\n    const client = useHttp()\r\n    return useMutation(\r\n      (param:SortProps) => {\r\n        return client('kanbans/reorder',{\r\n          data: param,\r\n          method: 'POST'\r\n        })\r\n      },\r\n      useReorderKanbanConfig(queryKey)\r\n    )\r\n  }","import { QueryKey, useMutation, useQuery } from \"react-query\";\r\nimport { cleanObject } from \"utils\";\r\nimport { useHttp } from \"./http\";\r\nimport { Task } from \"types/task\";\r\nimport { useAddConfig, useDeleteConfig, useEditConfig, useReorderTaskConfig } from \"./use-optimistic-options\";\r\nimport { Project } from \"types/project\";\r\nimport { SortProps } from \"./kanban\";\r\n\r\nexport const useTasks = (param?: Partial<Task>) => {\r\n    const client = useHttp();\r\n  \r\n    return useQuery<Task[]>([\"tasks\", cleanObject(param)], () =>\r\n      client(\"tasks\", { data: param })\r\n    );\r\n  };\r\n\r\n  export const useAddTask = (queryKey: QueryKey) => {\r\n    const client = useHttp();\r\n  \r\n    return useMutation(\r\n      (params: Partial<Task>) =>\r\n        client(`tasks`, {\r\n          data: params,\r\n          method: \"POST\",\r\n        }),\r\n      useAddConfig(queryKey)\r\n    );\r\n  };\r\n   \r\n  export const useTask = (id?: number) => {\r\n    const client = useHttp();\r\n    return useQuery<Project>(\r\n      [\"task\", { id }],\r\n      () => client(`tasks/${id}`),\r\n      {\r\n        enabled: Boolean(id),\r\n      }\r\n    );\r\n  };\r\n  \r\n  export const useEditTask = (queryKey: QueryKey) => {\r\n    const client = useHttp();\r\n    return useMutation(\r\n      (params: Partial<Task>) =>\r\n        client(`tasks/${params.id}`, {\r\n          method: \"PATCH\",\r\n          data: params,\r\n        }),\r\n      useEditConfig(queryKey)\r\n    );\r\n  };\r\n\r\n  export const useDeleteTask = (queryKey: QueryKey) => {\r\n    const client = useHttp();\r\n  \r\n    return useMutation(\r\n      ({ id }: { id: number }) =>\r\n        client(`tasks/${id}`, {\r\n          method: \"DELETE\",\r\n        }),\r\n      useDeleteConfig(queryKey)\r\n    );\r\n  };\r\n\r\n  export const useReorderTask = (queryKey:QueryKey) => {\r\n    const client = useHttp()\r\n    return useMutation(\r\n      (param:SortProps) => {\r\n        return client('tasks/reorder',{\r\n          data: param,\r\n          method: 'POST'\r\n        })\r\n      },\r\n      useReorderTaskConfig(queryKey)\r\n    )\r\n  }","import { useCallback, useMemo } from \"react\"\r\nimport { useLocation } from \"react-router\"\r\nimport { useDebounce } from \"utils\"\r\nimport { useProject } from \"utils/project\"\r\nimport { useTask } from \"utils/task\"\r\nimport { useUrlQueryParam } from \"utils/url\"\r\n\r\nexport const useProjectIdInUrl = () => {\r\n    const {pathname} = useLocation()\r\n    const id = pathname.match(/projects\\/(\\d+)/)?.[1]\r\n    return Number(id)\r\n}\r\n\r\nexport const useProjectInUrl = () => useProject(useProjectIdInUrl())\r\n\r\nexport const useKanbanSearchParams = () => ({projectId: useProjectIdInUrl()})\r\n\r\nexport const useKanbansQueryKey = () => ['kanbans', useKanbanSearchParams()]\r\n\r\nexport const useTasksSearchParams = () => {\r\n    const [param] = useUrlQueryParam([\r\n        'name',\r\n        'typeId',\r\n        'processorId',\r\n        'tagId'\r\n    ]);\r\n\r\n    const projectId = useProjectIdInUrl()\r\n    const debouncedName = useDebounce(param.name,200)\r\n\r\n    return useMemo(()=>({\r\n        projectId,\r\n        typeId: Number(param.typeId) || undefined,\r\n        processorId: Number(param.processorId) || undefined,\r\n        tagId: Number(param.tagId) || undefined,\r\n        name: param.name,\r\n    }),[projectId,param])\r\n}\r\n\r\nexport const useTasksQueryKey = () => ['tasks',useTasksSearchParams()]\r\n\r\nexport const useTasksModal = () => {\r\n    const [{editingTaskId},setEditingTaskId] = useUrlQueryParam(['editingTaskId'])\r\n    const {data: editingTask,isLoading} = useTask(Number(editingTaskId))\r\n    const startEdit = useCallback((id:number)=>{\r\n        setEditingTaskId({editingTaskId: id})\r\n    },[setEditingTaskId])\r\n\r\n    const close = useCallback(()=>{\r\n        setEditingTaskId({editingTaskId: ''})\r\n    },[setEditingTaskId])\r\n\r\n    return {\r\n        editingTaskId,\r\n        editingTask,\r\n        startEdit,\r\n        close,\r\n        isLoading\r\n    }\r\n}","var _desc, _defs, _g;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgTask(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"task\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _desc || (_desc = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\")), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"task\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Task\",\n    transform: \"translate(1.000000, 1.000000)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"Rectangle-36\",\n    fill: \"#4BADE8\",\n    x: 0,\n    y: 0,\n    width: 14,\n    height: 14,\n    rx: 2\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(4.000000, 4.500000)\",\n    stroke: \"#FFFFFF\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2,5 L6,0\",\n    id: \"Stroke-1\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2,5 L0,3\",\n    id: \"Stroke-3\"\n  })))))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgTask);\nexport default __webpack_public_path__ + \"static/media/task.97843ba7b03a0ef102d60b8a65987c60.svg\";\nexport { ForwardRef as ReactComponent };","var _desc, _defs, _g;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgBug(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"bug\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _desc || (_desc = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\")), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null)), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Page-1\",\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"bug\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Bug\",\n    transform: \"translate(1.000000, 1.000000)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"Rectangle-36\",\n    fill: \"#E5493A\",\n    x: 0,\n    y: 0,\n    width: 14,\n    height: 14,\n    rx: 2\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10,7 C10,8.657 8.657,10 7,10 C5.343,10 4,8.657 4,7 C4,5.343 5.343,4 7,4 C8.657,4 10,5.343 10,7\",\n    id: \"Fill-2\",\n    fill: \"#FFFFFF\"\n  }))))));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgBug);\nexport default __webpack_public_path__ + \"static/media/bug.87f92c270789254ceb55c5b5495f41a0.svg\";\nexport { ForwardRef as ReactComponent };","import { useQuery } from \"react-query\";\r\nimport { useHttp } from \"./http\";\r\nimport { TaskType } from \"types/task-type\";\r\n\r\nexport const useTaskTypes = () => {\r\n    const client = useHttp();\r\n  \r\n    return useQuery<TaskType[]>([\"taskTypes\"], () =>\r\n      client(\"taskTypes\",)\r\n    );\r\n  }; ","import { useAddTask } from \"utils/task\"\r\nimport { useProjectIdInUrl, useTasksQueryKey } from \"./util\"\r\nimport { useEffect, useState } from \"react\"\r\nimport React from \"react\";\r\nimport { Card, Input } from \"antd\";\r\n\r\nexport const CreateTask = ({kanbanId}:{kanbanId:number}) => {\r\n    const [name,setName] = useState('');\r\n    const {mutateAsync: addTasks} = useAddTask(useTasksQueryKey());\r\n    const projectId = useProjectIdInUrl()\r\n    const [inputMode,setInputMode] = useState(false)\r\n\r\n    const submit = async () =>{\r\n        await addTasks({projectId,name,kanbanId})\r\n        setInputMode(false)\r\n        setName('')\r\n    }\r\n\r\n    const toggle = () => setInputMode(mode => !mode)\r\n\r\n    useEffect(()=>{\r\n        if(!inputMode){\r\n            setName('')\r\n        }\r\n    },[inputMode])\r\n\r\n    if(!inputMode){\r\n        return <div onClick={toggle}>+创建事务</div>\r\n    }\r\n\r\n    return <Card>\r\n        <Input onBlur={toggle}\r\n            placeholder={'需要做些什么'}\r\n            autoFocus={true}\r\n            onPressEnter={submit}\r\n            value={name}\r\n            onChange={evt => setName(evt.target.value)}\r\n            />\r\n            \r\n    </Card>\r\n}","import React from \"react\"\r\n\r\nexport const Mark = ({name, keyword}: {name:string, keyword:string}) => {\r\n    if(!keyword){\r\n        return <>{name}</>\r\n    }\r\n    const arr = name.split(keyword)\r\n    return <>\r\n    {\r\n        arr.map((str,index)=> <span key={index}>\r\n            {str}\r\n            {\r\n                index === arr.length - 1 ? null : <span style={{color:'#257AFD'}}>\r\n                    {keyword}\r\n                    </span>\r\n            }\r\n        </span>)\r\n    }\r\n    </>\r\n}","import React, { ReactNode } from \"react\";\r\nimport { Draggable, \r\n        DraggableProps, \r\n        Droppable, \r\n        DroppableProps, \r\n        DroppableProvided, \r\n        DroppableProvidedProps } from \"react-beautiful-dnd\";\r\n\r\ntype DropProps = Omit<DroppableProps,'children'> & {children: ReactNode}\r\n\r\nexport const Drop = ({children, ...props}:DropProps) => {\r\n    return <Droppable {...props}>\r\n        {\r\n            (provided => {\r\n                if(React.isValidElement(children)){\r\n                    return React.cloneElement(children,{\r\n                        ...provided.droppableProps,\r\n                        // 使用 @ts-ignore 忽略类型错误\r\n                    // @ts-ignore\r\n                        ref: provided.innerRef,\r\n                        provided\r\n                    })\r\n                }\r\n                return <div/>\r\n            })\r\n        }\r\n\r\n    </Droppable>\r\n}\r\n\r\ntype DropChildProps = \r\n    Partial<{provided: DroppableProvided} & DroppableProvidedProps>\r\n    & React.HTMLAttributes<HTMLDivElement>\r\n\r\nexport const DropChild = React.forwardRef<HTMLDivElement,DropChildProps>(\r\n    ({children,...props} ,ref) => <div ref={ref} {...props}>\r\n        {children}\r\n        {props.provided?.placeholder}\r\n    </div>\r\n)\r\n\r\ntype DragProps = Omit<DraggableProps,'children'> & {children: ReactNode}\r\nexport const Drag = ({children, ...props}:DragProps) => {\r\n    return <Draggable {...props}>\r\n        {\r\n            provided => {   \r\n                if(React.isValidElement(children)){\r\n                    return React.cloneElement(children,{\r\n                        ...provided.draggableProps,\r\n                        ...provided.dragHandleProps,\r\n                        // 使用 @ts-ignore 忽略类型错误\r\n                    // @ts-ignore\r\n                        ref: provided.innerRef \r\n\r\n                    })\r\n                }\r\n                return <div/>\r\n            }\r\n        }\r\n    </Draggable>\r\n}","import React from \"react\";\r\nimport { Kanban } from \"types/kanban\";\r\nimport { useTasks } from \"utils/task\";\r\nimport { useKanbansQueryKey, useTasksModal, useTasksSearchParams } from \"./util\";\r\nimport taskIcon from \"assets/task.svg\"\r\nimport bugIcon from \"assets/bug.svg\"\r\nimport { useTaskTypes } from \"utils/task-type\";\r\nimport styled from \"@emotion/styled\";\r\nimport { Button, Card, Dropdown, Menu, Modal } from \"antd\";\r\nimport { CreateTask } from \"./create-task\";\r\nimport { Task } from \"types/task\";\r\nimport { Mark } from \"components/mark\";\r\nimport { useDeleteKanban } from \"utils/kanban\";\r\nimport { Row } from \"components/lib\";\r\nimport { Drag, Drop, DropChild } from \"components/drag-and-drop\";\r\n\r\nconst TaskTypeIcon = ({id}:{id:number}) => {\r\n    const {data: taskTypes} = useTaskTypes()\r\n    const name = taskTypes?.find((taskType)=>taskType.id === id)?.name;\r\n    if(!name){\r\n        return null;\r\n    }\r\n    return <img alt={'task-icon'} src={name === \"task\" ? taskIcon : bugIcon} />;\r\n}\r\n\r\nconst TaskCard = ({task}:{task:Task}) => {\r\n    const {startEdit} = useTasksModal()\r\n    const {name:keyword} = useTasksSearchParams()\r\n    return (\r\n        <Card onClick={()=>startEdit(task.id)} style={{marginBottom:'0.5rem',cursor:'pointer'}} key={task.id}>\r\n                    \r\n                    <p><Mark keyword={keyword} name={task.name}/></p>\r\n                    \r\n                    <TaskTypeIcon id={task.typeId}/>\r\n            </Card>\r\n    )\r\n}\r\n\r\nexport const KanbanColumn = React.forwardRef<HTMLDivElement,{kanban:Kanban}>(({kanban,...props}, ref) => {\r\n    const {data:allTasks} = useTasks(useTasksSearchParams());\r\n    const tasks = allTasks?.filter(task => task.kanbanId === kanban.id)\r\n\r\n    return( \r\n    <Container {...props} ref={ref}>\r\n        <Row between={true}>\r\n            <h3>{kanban.name}</h3>\r\n            <More kanban={kanban} key={kanban.id}/>\r\n        </Row>\r\n        <TaskContainer>\r\n            <Drop type={'ROW'} direction={'vertical'} droppableId={String(kanban.id)}>\r\n                <DropChild style={{minHeight:'5px'}}>\r\n                    {tasks?.map((task, taskIndex)=> (\r\n                        <Drag key={task.id} index={taskIndex} draggableId={'task'+ task.id}>\r\n                            <div>\r\n                                <TaskCard key={task.id} task={task}/>\r\n                            </div>\r\n                        </Drag>\r\n                        ))} \r\n                </DropChild>\r\n            </Drop>\r\n        <CreateTask kanbanId={kanban.id}/>\r\n        </TaskContainer>\r\n    </Container>\r\n    )\r\n})   \r\n\r\nconst More = ({kanban}:{kanban:Kanban}) => {\r\n\r\n    const {mutateAsync} = useDeleteKanban(useKanbansQueryKey())\r\n    const startEdit = () => {\r\n        Modal.confirm({\r\n            okText: '确定',\r\n            cancelText: '取消',\r\n            title: '确定删除看板吗',\r\n            onOk(){\r\n                return mutateAsync({id:kanban.id})\r\n            }        \r\n        })\r\n    }\r\n    const overlay = <Menu>\r\n        <Menu.Item>\r\n            <Button type={'link'} onClick={startEdit}>\r\n                删除\r\n            </Button>\r\n        </Menu.Item>\r\n    </Menu>\r\n    return <Dropdown overlay={overlay}>\r\n        <Button type={'link'}>...</Button>\r\n    </Dropdown>\r\n}\r\n\r\nexport const Container = styled.div`\r\n    min-width: 27rem;\r\n    border-radius: 6px;\r\n    background-color: rgb(244,245,247);\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 0.7rem 0.7rem 1rem;\r\n    margin-right: 1.5rem;\r\n`\r\n\r\nconst TaskContainer = styled.div`\r\n    overflow: scroll;\r\n    flex: 1;\r\n    ::-webkit-scrollbar{\r\n        display: none;\r\n    }\r\n`","import React from \"react\";\r\nimport { IdSelect } from \"components/id-select\";\r\nimport { useTaskTypes } from \"utils/task-type\";\r\n\r\nexport const TaskTypeSelect = (props: React.ComponentProps<typeof IdSelect>) => {\r\n  const { data: taskTypes } = useTaskTypes();\r\n  return <IdSelect options={taskTypes || []} {...props} />;\r\n};\r\n","import { useSetUrlSearchParam } from \"utils/url\"\r\nimport { useTasksSearchParams } from \"./util\"\r\nimport { Row } from \"components/lib\"\r\nimport React from \"react\"\r\nimport { Button, Input } from \"antd\"\r\nimport { UserSelect } from \"components/user-select\"\r\nimport { TaskTypeSelect } from \"components/task-type-selector\"\r\n\r\nexport const SearchPanel = () => {\r\n    const searchParams = useTasksSearchParams()\r\n    const setSearchParams = useSetUrlSearchParam()\r\n    const reset = () => {\r\n        setSearchParams({\r\n            typeId: undefined,\r\n            processorId: undefined,\r\n            tagId: undefined,\r\n            name : undefined,\r\n        })\r\n    }\r\n\r\n    return <Row marginBottom={4} gap={true}>\r\n        <Input style={{width: '20rem'}} placeholder={'任务名'} value={searchParams.name}\r\n            onChange={evt => setSearchParams({name:evt.target.value})}/>\r\n        <UserSelect defaultOptionName={'经办人'} value={searchParams.processorId}\r\n            onChange={value => setSearchParams({processorId:value})}/>\r\n        <TaskTypeSelect defaultOptionName={'类型'} value={searchParams.typeId}\r\n            onChange={(value)=>setSearchParams({typeId:value})}/>\r\n        <Button onClick={reset}>清除筛选器</Button>\r\n    </Row>\r\n}","import React, { useState } from \"react\"\r\nimport { useKanbansQueryKey, useProjectIdInUrl } from \"screens/kanban/util\"\r\nimport {ColumnsContainer} from './index' \r\nimport { useAddKanban } from \"utils/kanban\"\r\nimport { Input } from \"antd\"\r\nimport { Container } from \"./kanban-column\"\r\n\r\nexport const CreateKanban = () => {\r\n    const [name,setName] = useState('');\r\n    const projectId = useProjectIdInUrl();\r\n    const {mutateAsync:addKanban} = useAddKanban(useKanbansQueryKey());\r\n\r\n    const submit = async () => {\r\n        await addKanban({ name , projectId});\r\n        setName('');\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            <Input \r\n            size={\"large\"}\r\n            placeholder={\"新建看板名称\"}\r\n            onPressEnter={submit}\r\n            value={name}\r\n            onChange={(evt) => setName(evt.target.value)}/>\r\n        </Container>\r\n    );\r\n}","import { useForm } from \"antd/es/form/Form\"\r\nimport { useTasksModal, useTasksQueryKey } from \"./util\"\r\nimport { useDeleteTask, useEditTask } from \"utils/task\"\r\nimport { useEffect } from \"react\"\r\nimport { Button, Form, Input, Modal } from \"antd\"\r\nimport React from \"react\"\r\nimport { UserSelect } from \"components/user-select\"\r\nimport { TaskTypeSelect } from \"components/task-type-selector\"\r\n\r\nconst layout = {\r\n    labelCol:{span: 8},\r\n    wrapperCol: {span: 16}\r\n}\r\n\r\nexport const TaskModal = () => {\r\n    const [form] = useForm()\r\n    const {editingTaskId,editingTask,close} = useTasksModal()\r\n    const {mutateAsync: editTask , isLoading: editLoading} = useEditTask(useTasksQueryKey())\r\n    const {mutate:deleteTask} = useDeleteTask(useTasksQueryKey())\r\n\r\n    const onCancel = () =>{\r\n        close()\r\n        form.resetFields()\r\n    }\r\n    \r\n    const onOk = async () => {\r\n        await editTask({...editingTask,...form.getFieldsValue()})\r\n        close()\r\n    }\r\n\r\n    const startDelete = () => {\r\n        close()\r\n        Modal.confirm({\r\n            okText: '确定',\r\n            cancelText: '取消',\r\n            title: '确定删除任务吗',\r\n            onOk(){\r\n                return deleteTask({id: Number(editingTaskId)})\r\n            }        \r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        form.setFieldsValue(editTask)\r\n    },[form,editingTask])\r\n\r\n    return (\r\n        <Modal\r\n            forceRender={true}\r\n            onCancel={onCancel}\r\n            onOk={onOk}\r\n            okText={\"确认\"}\r\n            cancelText={\"取消\"}\r\n            confirmLoading={editLoading}\r\n            title={\"编辑任务\"}\r\n            visible={!!editingTaskId}\r\n        >\r\n            <Form {...layout} initialValues={editingTask} form={form}>\r\n            <Form.Item\r\n                label={\"任务名\"}\r\n                name={\"name\"}\r\n                rules={[{ required: true, message: \"请输入任务名\" }]}\r\n            >\r\n                <Input />\r\n            </Form.Item>    \r\n            <Form.Item label={\"经办人\"} name={\"processorId\"}>\r\n                <UserSelect defaultOptionName={\"经办人\"} />\r\n            </Form.Item>\r\n            <Form.Item label={\"类型\"} name={\"typeId\"}>\r\n                <TaskTypeSelect />\r\n            </Form.Item>\r\n            </Form>\r\n            <div style={{ textAlign: \"right\" }}>\r\n            <Button\r\n                onClick={startDelete}\r\n                style={{ fontSize: \"14px\" }}\r\n                size={\"small\"}\r\n            >\r\n                删除\r\n            </Button>\r\n            </div>\r\n      </Modal>\r\n      )\r\n}","import React, { useCallback } from \"react\"\r\nimport { useDocumentTitle } from \"utils\"\r\nimport { useKanbans, useReorderKanban } from \"utils/kanban\"\r\nimport { useKanbanSearchParams, useKanbansQueryKey, useProjectInUrl, useTasksQueryKey, useTasksSearchParams } from \"./util\"\r\nimport { KanbanColumn } from \"./kanban-column\"\r\nimport styled from \"@emotion/styled\"\r\nimport { SearchPanel } from \"./search-panel\"\r\nimport { ScreenContainer } from \"components/lib\"\r\nimport { useReorderTask, useTasks } from \"utils/task\"\r\nimport { Spin } from \"antd\"\r\nimport { CreateKanban } from \"./create-kanban\"\r\nimport { TaskModal } from \"./task-modal\"\r\nimport { DragDropContext, DropResult } from \"react-beautiful-dnd\"\r\nimport { Drag, Drop, DropChild } from \"components/drag-and-drop\"\r\nimport { Profiler } from \"components/profiler\"\r\n\r\nexport const KanbanScreen = () => {\r\n    useDocumentTitle('看板列表')\r\n\r\n    const {data:currentProject} = useProjectInUrl()\r\n    const {data:kanbans,isLoading:kanbanIsLoading} = useKanbans(useKanbanSearchParams())\r\n    const {isLoading:taskIsLoading} = useTasks(useTasksSearchParams())\r\n    const isLoading = taskIsLoading || kanbanIsLoading\r\n    const onDragEnd = useDragEnd()\r\n    return (\r\n        <Profiler id={'看板页面'}>\r\n            <DragDropContext onDragEnd={onDragEnd}>\r\n                <ScreenContainer>\r\n                    <h1>{currentProject?.name}看板</h1>\r\n                    <SearchPanel/>\r\n                    {isLoading? (<Spin size={'large'} />) : ( \r\n                    <ColumnsContainer> \r\n                    <Drop type={'COLUMN'} direction={'horizontal'} droppableId={'kanban'}>\r\n                        <DropChild style={{display:'flex'}}>\r\n                            {kanbans?.map((kanban,index) => (\r\n                                <Drag \r\n                                    key={kanban.id} draggableId={'kanban'+kanban.id} index={index}>\r\n                                    <KanbanColumn kanban={kanban} key={kanban.id}/>\r\n                                </Drag>\r\n                            ))\r\n                            }\r\n                        </DropChild>\r\n                    </Drop>\r\n                    <CreateKanban/>\r\n                    </ColumnsContainer>\r\n                    )}\r\n                    <TaskModal/>\r\n                </ScreenContainer>\r\n            </DragDropContext>\r\n        </Profiler>\r\n    \r\n    )\r\n}\r\n\r\nexport const useDragEnd = () => {\r\n    const {data:kanbans} = useKanbans(useKanbanSearchParams())\r\n    const {mutate: reorderKanban} = useReorderKanban(useKanbansQueryKey())\r\n    const {mutate: reorderTask} = useReorderTask(useTasksQueryKey())\r\n    const {data: allTasks = []} = useTasks(useTasksSearchParams())\r\n    return useCallback(({source, destination, type}: DropResult)=>{\r\n        if(!destination){\r\n            return \r\n        }\r\n        //kanban排序\r\n        if(type === 'COLUMN'){\r\n            const fromId = kanbans?.[source.index].id\r\n            const toId = kanbans?.[destination.index].id\r\n            if(!fromId || !toId || fromId === toId){\r\n                return \r\n            }\r\n            const type = destination.index > source.index ? 'after' : 'before'\r\n            reorderKanban({fromId, referenceId: toId, type})\r\n        }\r\n        if(type === 'ROW'){\r\n            const fromKanbanId = +source.droppableId\r\n            const toKanbanId = +destination.droppableId\r\n            const fromTask = allTasks.filter(task => task.kanbanId === fromKanbanId)[source.index]\r\n            const toTask = allTasks.filter(task => task.kanbanId === toKanbanId)[destination.index]\r\n\r\n            // if(fromKanbanId === toKanbanId){\r\n            //     return\r\n            // }\r\n            \r\n            if(fromTask?.id === toTask?.id){\r\n                return \r\n            }\r\n            reorderTask({\r\n                fromId: fromTask?.id,\r\n                referenceId: toTask?.id,\r\n                fromKanbanId,\r\n                toKanbanId,\r\n                type: fromKanbanId === toKanbanId && destination.index > source.index ? 'after' : 'before'\r\n            })\r\n            }\r\n\r\n    },[kanbans,reorderKanban,allTasks,reorderTask])\r\n}\r\n\r\nexport const ColumnsContainer = styled(DropChild)`\r\n    display: flex;\r\n    overflow-x: scroll;\r\n    flex: 1;\r\n`","import { useProjectIdInUrl } from \"screens/kanban/util\"\r\n\r\nexport const useEpicSearchParams = () => ({projectId: useProjectIdInUrl()})\r\n\r\nexport const useEpicsQueryKey = () => ['epics', useEpicSearchParams()]","import styled from \"@emotion/styled\";\r\nimport { Button, Drawer, Form, Input, Spin } from \"antd\";\r\nimport { DrawerProps } from \"antd/lib/drawer\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useAddEpic } from \"utils/epic\";\r\nimport { useEpicsQueryKey } from \"./util\";\r\nimport { ErrorBox } from \"components/lib\";\r\nimport { useForm } from \"antd/lib/form/Form\";\r\nimport { useProjectIdInUrl } from \"screens/kanban/util\";\r\n\r\nexport const CreateEpic = (props: Pick<DrawerProps, 'visible'> & {onClose: ()=> void}) => {\r\n    const {mutate: addEpic, isLoading, error} = useAddEpic(useEpicsQueryKey())\r\n    const [form] = useForm()\r\n    const projectId = useProjectIdInUrl()\r\n\r\n    const onFinish = async(values:any) => {\r\n        await addEpic({...values,projectId})\r\n        props.onClose()\r\n    };\r\n\r\n    useEffect(() => {\r\n        form.resetFields()\r\n    },[form,props.visible])\r\n    \r\n    return <Drawer  visible={props.visible} \r\n                    forceRender={true}\r\n                    onClose={props.onClose}\r\n                    destroyOnClose= {true}\r\n                    width={'100%'}>\r\n                   \r\n        <Container>\r\n            {isLoading ? (\r\n            <Spin size={\"large\"} />\r\n            ) : (\r\n            <>\r\n                <h1>创建任务组</h1>\r\n                <ErrorBox error={error} />\r\n                <Form\r\n                form={form}\r\n                layout={\"vertical\"}\r\n                style={{ width: \"40rem\" }}\r\n                onFinish={onFinish}\r\n                >\r\n                <Form.Item\r\n                    label={\"名称\"}\r\n                    name={\"name\"}\r\n                    rules={[{ required: true, message: \"请输入任务组名\" }]}\r\n                >\r\n                    <Input placeholder={\"请输入任务组名称\"} />\r\n                </Form.Item>\r\n\r\n                <Form.Item style={{ textAlign: \"right\" }}>\r\n                    <Button\r\n                    loading={isLoading}\r\n                    type={\"primary\"}\r\n                    htmlType={\"submit\"}\r\n                    >\r\n                    提交\r\n                    </Button>\r\n                </Form.Item>\r\n                </Form>\r\n            </>\r\n            )}\r\n      </Container>\r\n</Drawer>\r\n}\r\n\r\nconst Container = styled.div`\r\n  height: 80vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n","import { QueryKey, useMutation, useQuery } from \"react-query\";\r\nimport { cleanObject } from \"utils\";\r\nimport { useHttp } from \"./http\";\r\nimport { Epic } from \"types/epic\";\r\nimport { useAddConfig, useDeleteConfig, useReorderKanbanConfig } from \"./use-optimistic-options\";\r\n\r\nexport const useEpics = (param?: Partial<Epic>) => {\r\n    const client = useHttp();\r\n  \r\n    return useQuery<Epic[]>([\"epics\", cleanObject(param)], () =>\r\n      client(\"epics\", { data: param })\r\n    );\r\n  };\r\n\r\n  export const useAddEpic = (queryKey: QueryKey) => {\r\n    const client = useHttp();\r\n  \r\n    return useMutation(\r\n      (params: Partial<Epic>) =>\r\n        client(`epics`, {\r\n          data: params,\r\n          method: \"POST\",\r\n        }),\r\n      useAddConfig(queryKey)\r\n    );\r\n  };\r\n   \r\n  export const useDeleteEpic = (queryKey: QueryKey) => {\r\n    const client = useHttp();\r\n  \r\n    return useMutation(\r\n      ({ id }: { id: number }) =>\r\n        client(`epics/${id}`, {\r\n          method: \"DELETE\",\r\n        }),\r\n      useDeleteConfig(queryKey)\r\n    );\r\n  };\r\n  ","import { Row, ScreenContainer } from \"components/lib\"\r\nimport React, { useState } from \"react\"\r\nimport { useProjectInUrl } from \"screens/kanban/util\"\r\nimport { useDeleteEpic, useEpics } from \"utils/epic\"\r\nimport { useEpicSearchParams, useEpicsQueryKey } from \"./util\"\r\nimport { Button, List, Modal } from \"antd\"\r\nimport { useTasks } from \"utils/task\"\r\nimport dayjs from \"dayjs\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { CreateEpic } from \"./create-epic\"\r\nimport { Epic } from \"types/epic\"\r\n\r\nexport const EpicScreen = () => {\r\n    const {data: currentProject} = useProjectInUrl()\r\n    const {data: epics} = useEpics(useEpicSearchParams())\r\n    const {data: tasks} = useTasks({projectId: currentProject?.id})\r\n    const {mutate: deleteEpic} = useDeleteEpic(useEpicsQueryKey())\r\n    const [epicCreateOpen, setEpicCreateOpen] = useState(false)\r\n\r\n    const confirmDeleteEpic = (epic: Epic) => {\r\n        Modal.confirm({\r\n          title: `确定删除项目组：${epic.name}`,\r\n          content: \"点击确定删除\",\r\n          okText: \"确定\",\r\n          onOk() {\r\n            deleteEpic({ id: epic.id });\r\n          },\r\n        });\r\n      };\r\n\r\n    return (\r\n        <ScreenContainer>\r\n            <Row between={true}>\r\n                <h1>{currentProject?.name}任务组</h1>\r\n                <Button onClick={()=>setEpicCreateOpen(true)} type={'link'}>\r\n                    创建任务组\r\n                </Button>\r\n            </Row>\r\n            <List   \r\n                style={{ overflow: \"scroll\" }} \r\n                dataSource={epics} \r\n                itemLayout={'vertical'} \r\n                renderItem={epic => \r\n            <List.Item>\r\n                    <List.Item.Meta \r\n                        title={\r\n                        <Row between={true}>\r\n                            <span>{epic.name}</span>\r\n                            <Button onClick={() => confirmDeleteEpic(epic)} type={'link'}>删除</Button>\r\n                        </Row>}\r\n                        description={<div>\r\n                            <div>开始时间：{dayjs(epic.start).format(('YYYY-MM-DD'))} </div>\r\n                            <div>结束时间：{dayjs(epic.end).format(('YYYY-MM-DD'))} </div>\r\n                        </div>}\r\n                    />\r\n                    <div>\r\n                        {tasks?.filter(task => task.epicId === epic.id).map(task => \r\n                            <Link to={`/projects/${currentProject?.id}/kanban?editingTaskId=${task.id}`} \r\n                            key = {task.id}>{task.name}</Link>\r\n                        )}\r\n                    </div>\r\n                </List.Item>}/>\r\n                <CreateEpic onClose={()=> setEpicCreateOpen(false)} visible={epicCreateOpen} /> \r\n                \r\n        </ScreenContainer>\r\n\r\n    )\r\n}","import React from \"react\";\r\nimport { Link, Route, Routes, Navigate, useLocation } from \"react-router-dom\";\r\nimport { KanbanScreen } from \"screens/kanban\";\r\nimport { EpicScreen } from \"screens/epic\";\r\nimport styled from \"@emotion/styled\";\r\nimport { Menu } from \"antd\";\r\n\r\nconst useRouteType = () => {\r\n    const units = useLocation().pathname.split('/')\r\n    return units[units.length - 1]\r\n}\r\n\r\nexport const ProjectScreen = () => {\r\n    return (\r\n        <Container>\r\n            <Aside>\r\n                <Menu mode={\"inline\"}>\r\n                    <Menu.Item key={'kanban'} selectedKeys={[useRouteType()]}>\r\n                        <Link to={'kanban'}>看板</Link>\r\n                    </Menu.Item>\r\n                    <Menu.Item key={'epic'}>\r\n                    <Link to={'epic'}>任务组</Link>\r\n                    </Menu.Item>\r\n                </Menu>\r\n            </Aside>\r\n            <Main>\r\n                <Routes>\r\n                    <Route path={'kanban'} element={<KanbanScreen />} />\r\n                    <Route path={'epic'} element={<EpicScreen />} />\r\n                    <Route path=\"*\" element={<Navigate to={window.location.pathname + '/kanban'} replace={true}/>} /> {/* 处理未匹配的路由 */}\r\n                </Routes>\r\n            </Main> \r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Aside = styled.div`\r\n    background-color: rgb(244,245,247);\r\n    display: flex;\r\n`\r\n\r\nconst Main = styled.div`\r\n    box-shadow: -5px 0 -5px -5px rgba(0,0,0,0.1);\r\n    display: flex; \r\n    overflow: hidden;\r\n`\r\n\r\nconst Container = styled.div`\r\n    display: grid;\r\n    grid-template-columns: 16rem 1fr;\r\n    width: 100%;\r\n`","import React, { useEffect } from \"react\";\r\nimport { Button, Drawer, Form, Input, Spin } from \"antd\";\r\nimport {\r\n  useProjectModal,\r\n  useProjectsQueryKey,\r\n} from \"screens/project-list/util\";\r\nimport { UserSelect } from \"components/user-select\";\r\nimport { useAddProject, useEditProject } from \"utils/project\";\r\nimport { ErrorBox } from \"components/lib\";\r\nimport styled from \"@emotion/styled\";\r\n\r\nexport const ProjectModal = () => {\r\n  const { projectModalOpen, close, editingProject, isLoading } =\r\n    useProjectModal();\r\n  const useMutateProject = editingProject ? useEditProject : useAddProject;\r\n\r\n  const {\r\n    mutateAsync,\r\n    error,\r\n    isLoading: mutateLoading,\r\n  } = useMutateProject(useProjectsQueryKey());\r\n  const [form] = Form.useForm();\r\n  const onFinish = (values: any) => {\r\n    mutateAsync({ ...editingProject, ...values }).then(() => {\r\n      form.resetFields();\r\n      close();\r\n    });\r\n  };\r\n  const closeModal = () => {\r\n    form.resetFields();\r\n    close();\r\n  };\r\n\r\n  const title = editingProject ? \"编辑项目\" : \"创建项目\";\r\n\r\n  useEffect(() => {\r\n    form.setFieldsValue(editingProject);\r\n  }, [editingProject, form]);\r\n\r\n  return (\r\n    <Drawer\r\n      forceRender={true}\r\n      onClose={closeModal}\r\n      visible={projectModalOpen}\r\n      width={\"100%\"}\r\n    >\r\n      <Container>\r\n        {isLoading ? (\r\n          <Spin size={\"large\"} />\r\n        ) : (\r\n          <>\r\n            <h1>{title}</h1>\r\n            <ErrorBox error={error} />\r\n            <Form\r\n              form={form}\r\n              layout={\"vertical\"}\r\n              style={{ width: \"40rem\" }}\r\n              onFinish={onFinish}\r\n            >\r\n              <Form.Item\r\n                label={\"名称\"}\r\n                name={\"name\"}\r\n                rules={[{ required: true, message: \"请输入项目名\" }]}\r\n              >\r\n                <Input placeholder={\"请输入项目名称\"} />\r\n              </Form.Item>\r\n\r\n              <Form.Item\r\n                label={\"部门\"}\r\n                name={\"organization\"}\r\n                rules={[{ required: true, message: \"请输入部门名\" }]}\r\n              >\r\n                <Input placeholder={\"请输入部门名\"} />\r\n              </Form.Item>\r\n\r\n              <Form.Item label={\"负责人\"} name={\"personId\"}>\r\n                <UserSelect defaultOptionName={\"负责人\"} />\r\n              </Form.Item>\r\n\r\n              <Form.Item style={{ textAlign: \"right\" }}>\r\n                <Button\r\n                  loading={mutateLoading}\r\n                  type={\"primary\"}\r\n                  htmlType={\"submit\"}\r\n                >\r\n                  提交\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </>\r\n        )}\r\n      </Container>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nconst Container = styled.div`\r\n  height: 80vh;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n","import React from \"react\";\r\nimport { Divider, List, Popover, Typography } from \"antd\";\r\nimport { useProjects } from \"utils/project\";\r\nimport styled from \"@emotion/styled\";\r\nimport { ButtonNoPadding } from \"components/lib\";\r\nimport { useProjectModal } from \"screens/project-list/util\";\r\n\r\nexport const ProjectPopover = () => {\r\n  const { open } = useProjectModal();\r\n  const { data: projects, refetch } = useProjects();\r\n  const pinnedProjects = projects?.filter((project) => project.pin);\r\n\r\n  const content = (\r\n    <ContentContainer>\r\n      <Typography.Text type={\"secondary\"}>收藏项目</Typography.Text>\r\n      <List>\r\n        {pinnedProjects?.map((project) => (\r\n          <List.Item key={project.id}>\r\n            <List.Item.Meta title={project.name} />\r\n          </List.Item>\r\n        ))}\r\n      </List>\r\n      <Divider />\r\n      <ButtonNoPadding onClick={open} type={\"link\"}>\r\n        创建项目\r\n      </ButtonNoPadding>\r\n    </ContentContainer>\r\n  );\r\n\r\n  return (\r\n    <Popover\r\n      onVisibleChange={() => refetch()}\r\n      placement={\"bottom\"}\r\n      content={content}\r\n    >\r\n      <span>项目</span>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nconst ContentContainer = styled.div`\r\n  min-width: 30rem;\r\n  /* border: 5px solid black; */\r\n`;\r\n","import React from \"react\";\r\nimport { Divider, List, Popover, Typography } from \"antd\";\r\nimport { useProjects } from \"utils/project\";\r\nimport styled from \"@emotion/styled\";\r\nimport { ButtonNoPadding } from \"components/lib\";\r\nimport { useProjectModal } from \"screens/project-list/util\";\r\nimport { useUsers } from \"utils/user\";\r\n\r\nexport const UserPopover = () => {\r\n  const { data: users, refetch } = useUsers();\r\n\r\n  const content = (\r\n    <ContentContainer>\r\n      <Typography.Text type={\"secondary\"}>组员列表</Typography.Text>\r\n      <List>\r\n        {users?.map((user) => (\r\n          <List.Item key={user.id}>\r\n            <List.Item.Meta title={user.name} />\r\n          </List.Item>\r\n        ))}\r\n      </List>\r\n      <Divider />\r\n    </ContentContainer>\r\n  );\r\n\r\n  return (\r\n    <Popover\r\n      onVisibleChange={() => refetch()}\r\n      placement={\"bottom\"}\r\n      content={content}\r\n    >\r\n      <span>组员</span>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nconst ContentContainer = styled.div`\r\n  min-width: 30rem;\r\n  /* border: 5px solid black; */\r\n`;\r\n","import React from \"react\";\r\nimport { ProjectListScreen } from \"screens/project-list\";\r\nimport { useAuth } from \"context/auth-context\";\r\nimport { ReactComponent as SoftwareLogo } from \"assets/software-logo.svg\";\r\nimport styled from \"@emotion/styled\";\r\nimport { ButtonNoPadding, Row } from \"components/lib\";\r\nimport { Button, Dropdown, Menu } from \"antd\";\r\nimport { Route, Routes } from \"react-router\";\r\nimport { ProjectScreen } from \"screens/project\";\r\nimport { resetRoute } from \"utils\";\r\nimport { ProjectModal } from \"screens/project-list/project-modal\";\r\nimport { ProjectPopover } from \"components/project-popover\";\r\nimport { UserPopover } from \"components/user-popover\";\r\n// import { UserPopover } from \"components/user-popover\";\r\n\r\n/**\r\n * grid 和 flex 各自的应用场景\r\n * 1. 要考虑，是一维布局 还是 二维布局\r\n * 一般来说，一维布局用flex，二维布局用grid\r\n * 2. 是从内容出发还是从布局出发？\r\n * 从内容出发：你先有一组内容(数量一般不固定),然后希望他们均匀的分布在容器中，由内容自己的大小决定占据的空间\r\n * 从布局出发：先规划网格(数量一般比较固定)，然后再把元素往里填充\r\n * 从内容出发，用 flex\r\n * 从布局出发，用 grid\r\n *\r\n */\r\n\r\n// prop drilling\r\n\r\nexport default function AuthenticatedApp() {\r\n  return (\r\n    <Container>\r\n      <PageHeader />\r\n      <Main>\r\n        <Routes>\r\n          <Route path={\"projects\"} element={<ProjectListScreen />} />\r\n          <Route path={\"projects/:projectId/*\"} element={<ProjectScreen />} />\r\n          <Route index element={<ProjectListScreen />} />\r\n        </Routes>\r\n      </Main>\r\n      <ProjectModal />\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst PageHeader = () => {\r\n  return (\r\n    <Header between={true}>\r\n      <HeaderLeft gap={true}>\r\n        <ButtonNoPadding type={\"link\"} onClick={resetRoute}>\r\n          <SoftwareLogo width={\"18rem\"} color={\"rgb(38, 132, 255)\"} />\r\n        </ButtonNoPadding>\r\n        <ProjectPopover />\r\n        <UserPopover />\r\n      </HeaderLeft>\r\n      <HeaderRight>\r\n        <User />\r\n      </HeaderRight>\r\n    </Header>\r\n  );\r\n};\r\n\r\nconst User = () => {\r\n  const { logout, user } = useAuth();\r\n  return (\r\n    <Dropdown\r\n      overlay={\r\n        <Menu>\r\n          <Menu.Item key={\"logout\"}>\r\n            <Button onClick={logout} type={\"link\"}>\r\n              登出\r\n            </Button>\r\n          </Menu.Item>\r\n        </Menu>\r\n      }\r\n    >\r\n      <Button type={\"link\"} onClick={(e) => e.preventDefault()}>\r\n        Hi, {user?.name}\r\n      </Button>\r\n    </Dropdown>\r\n  );\r\n};\r\n\r\n// temporal dead zone(暂时性死区)\r\nconst Container = styled.div`\r\n  display: grid;\r\n  grid-template-rows: 6rem 1fr;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  margin: 0 auto;\r\n  /* border: 5px solid black; */\r\n`;\r\n\r\n// grid-area 用来给grid子元素起名字\r\nconst Header = styled(Row)`\r\n  padding: 3.2rem;\r\n  box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.1);\r\n  z-index: 1;\r\n`;\r\n\r\nconst HeaderLeft = styled(Row)``;\r\nconst HeaderRight = styled.div``;\r\nconst Main = styled.main`\r\n  display: flex;\r\n  overflow: scroll;\r\n  justify-content: space-between;\r\n  /* align-items: center; */\r\n  width: 100%;\r\n  /* border: 5px solid black;  */\r\n`;\r\n"],"names":["Pin","_ref","checked","onCheckedChange","restProps","_jsx","Rate","count","value","onChange","num","reorder","fromId","type","referenceId","list","copiedList","movingItemIndex","findIndex","item","id","insertAfter","length","targetIndex","insertBefore","from","to","toItem","removedItem","splice","toIndex","indexOf","useConfig","queryKey","callback","queryClient","useQueryClient","onSuccess","invalidateQueries","onMutate","target","previousItems","getQueryData","setQueryData","old","onError","error","newItem","context","useDeleteConfig","filter","useEditConfig","map","useAddConfig","useProjects","param","client","useHttp","useQuery","cleanObject","data","useEditProject","useMutation","params","method","useAddProject","useProject","enabled","Boolean","useUrlQueryParam","keys","searchParams","useSearchParams","setSearchParams","useSetUrlSearchParam","stateKeys","useState","useMemo","subset","Object","fromEntries","setSearchParam","o","useProjectsSearchParams","setParam","personId","Number","undefined","useProjectsQueryKey","useProjectModal","projectCreate","setProjectCreate","editingProjectId","setEditingProjectId","setUrlParams","editingProject","isLoading","projectModalOpen","open","close","startEdit","List","React","users","props","mutate","Table","rowKey","pagination","columns","title","disabled","render","project","pin","sorter","a","b","name","localeCompare","Link","String","children","dataIndex","_users$find","find","user","created","dayjs","format","More","_ref2","deleteProject","useDeleteProject","Dropdown","overlay","_jsxs","Menu","Item","onClick","Modal","confirm","content","okText","onOk","confirmDeleteProject","ButtonNoPadding","useUsers","IdSelect","defaultOptionName","options","Select","toNumber","Option","option","isNaN","UserSelect","SearchPanel","Form","style","marginBottom","layout","Input","placeholder","evt","ProjectListScreen","useDocumentTitle","useDebounce","Profiler","ScreenContainer","Row","display","justifyContent","ErrorBox","loading","dataSource","whyDidYouRender","_defs","_g","_extends","assign","bind","n","e","arguments","t","r","hasOwnProperty","call","apply","SvgSoftwareLogo","svgRef","titleId","viewBox","xmlns","focusable","className","ref","x1","y1","x2","y2","stopColor","offset","stroke","strokeWidth","fillRule","d","fill","ForwardRef","useKanbans","useReorderKanban","useReorderKanbanConfig","useTasks","useReorderTask","kanbanId","toKanbanId","useReorderTaskConfig","useProjectIdInUrl","_pathname$match","pathname","useLocation","match","useProjectInUrl","useKanbanSearchParams","projectId","useKanbansQueryKey","useTasksSearchParams","typeId","processorId","tagId","useTasksQueryKey","useTasksModal","editingTaskId","setEditingTaskId","editingTask","useTask","useCallback","useTaskTypes","CreateTask","setName","mutateAsync","addTasks","useAddTask","inputMode","setInputMode","toggle","mode","useEffect","Card","onBlur","autoFocus","onPressEnter","async","Mark","keyword","_Fragment","arr","split","str","index","color","Drop","Droppable","provided","droppableProps","innerRef","DropChild","_props$provided","Drag","_ref3","Draggable","draggableProps","dragHandleProps","TaskTypeIcon","_taskTypes$find","taskTypes","taskType","alt","src","taskIcon","bugIcon","TaskCard","task","cursor","KanbanColumn","kanban","allTasks","tasks","Container","between","TaskContainer","direction","droppableId","minHeight","taskIndex","draggableId","_ref4","useDeleteKanban","Button","cancelText","styled","div","TaskTypeSelect","gap","width","reset","CreateKanban","addKanban","useAddKanban","size","labelCol","span","wrapperCol","TaskModal","form","useForm","editTask","editLoading","useEditTask","deleteTask","useDeleteTask","setFieldsValue","forceRender","onCancel","resetFields","getFieldsValue","confirmLoading","visible","initialValues","label","rules","required","message","textAlign","startDelete","fontSize","KanbanScreen","currentProject","kanbans","kanbanIsLoading","taskIsLoading","onDragEnd","useDragEnd","DragDropContext","Spin","ColumnsContainer","reorderKanban","reorderTask","source","destination","toId","fromKanbanId","fromTask","toTask","useEpicSearchParams","useEpicsQueryKey","CreateEpic","addEpic","useAddEpic","Drawer","onClose","destroyOnClose","onFinish","values","htmlType","EpicScreen","epics","useEpics","deleteEpic","useDeleteEpic","epicCreateOpen","setEpicCreateOpen","overflow","itemLayout","renderItem","epic","Meta","confirmDeleteEpic","description","start","end","epicId","useRouteType","units","ProjectScreen","Aside","selectedKeys","Main","Routes","Route","path","element","Navigate","window","location","replace","ProjectModal","useMutateProject","mutateLoading","closeModal","then","ProjectPopover","projects","refetch","pinnedProjects","ContentContainer","Typography","Text","Divider","Popover","onVisibleChange","placement","UserPopover","AuthenticatedApp","PageHeader","Header","HeaderLeft","resetRoute","SoftwareLogo","HeaderRight","User","logout","useAuth","preventDefault","main"],"sourceRoot":""}